Feature: State synchronization

  Scenario: Control API deletes WebRtcPublishEndpoint 1
    Given room with joined member Alice and Bob
    When Alice loses WS connection
    And Control API deletes Alice's publish endpoint
    And Alice restores WS connection
    Then Bob has 2 stopped remote tracks from Alice


  Scenario: Control API deletes WebRtcPublishEndpoint 2
    Given room with joined member Alice and Bob
    When Alice loses WS connection
    And Control API deletes Alice's publish endpoint
    And Alice restores WS connection
    Then Bob has 2 stopped remote tracks from Alice


  Scenario: Control API deletes WebRtcPublishEndpoint 3
    Given room with joined member Alice and Bob
    When Alice loses WS connection
    And Control API deletes Alice's publish endpoint
    And Alice restores WS connection
    Then Bob has 2 stopped remote tracks from Alice


  Scenario: Control API deletes WebRtcPublishEndpoint 4
    Given room with joined member Alice and Bob
    When Alice loses WS connection
    And Control API deletes Alice's publish endpoint
    And Alice restores WS connection
    Then Bob has 2 stopped remote tracks from Alice


  Scenario: Control API deletes WebRtcPublishEndpoint 5
    Given room with joined member Alice and Bob
    When Alice loses WS connection
    And Control API deletes Alice's publish endpoint
    And Alice restores WS connection
    Then Bob has 2 stopped remote tracks from Alice


  Scenario: Control API deletes WebRtcPublishEndpoint 6
    Given room with joined member Alice and Bob
    When Alice loses WS connection
    And Control API deletes Alice's publish endpoint
    And Alice restores WS connection
    Then Bob has 2 stopped remote tracks from Alice


  Scenario: Control API deletes WebRtcPublishEndpoint 7
    Given room with joined member Alice and Bob
    When Alice loses WS connection
    And Control API deletes Alice's publish endpoint
    And Alice restores WS connection
    Then Bob has 2 stopped remote tracks from Alice


  Scenario: Control API deletes WebRtcPublishEndpoint 8
    Given room with joined member Alice and Bob
    When Alice loses WS connection
    And Control API deletes Alice's publish endpoint
    And Alice restores WS connection
    Then Bob has 2 stopped remote tracks from Alice


  Scenario: Control API deletes WebRtcPublishEndpoint 9
    Given room with joined member Alice and Bob
    When Alice loses WS connection
    And Control API deletes Alice's publish endpoint
    And Alice restores WS connection
    Then Bob has 2 stopped remote tracks from Alice


  Scenario: Control API deletes WebRtcPublishEndpoint 10
    Given room with joined member Alice and Bob
    When Alice loses WS connection
    And Control API deletes Alice's publish endpoint
    And Alice restores WS connection
    Then Bob has 2 stopped remote tracks from Alice


  Scenario: Control API deletes WebRtcPublishEndpoint 11
    Given room with joined member Alice and Bob
    When Alice loses WS connection
    And Control API deletes Alice's publish endpoint
    And Alice restores WS connection
    Then Bob has 2 stopped remote tracks from Alice


  Scenario: Control API deletes WebRtcPublishEndpoint 12
    Given room with joined member Alice and Bob
    When Alice loses WS connection
    And Control API deletes Alice's publish endpoint
    And Alice restores WS connection
    Then Bob has 2 stopped remote tracks from Alice


  Scenario: Control API deletes WebRtcPublishEndpoint 13
    Given room with joined member Alice and Bob
    When Alice loses WS connection
    And Control API deletes Alice's publish endpoint
    And Alice restores WS connection
    Then Bob has 2 stopped remote tracks from Alice


  Scenario: Control API deletes WebRtcPublishEndpoint 14
    Given room with joined member Alice and Bob
    When Alice loses WS connection
    And Control API deletes Alice's publish endpoint
    And Alice restores WS connection
    Then Bob has 2 stopped remote tracks from Alice


  Scenario: Control API deletes WebRtcPublishEndpoint 15
    Given room with joined member Alice and Bob
    When Alice loses WS connection
    And Control API deletes Alice's publish endpoint
    And Alice restores WS connection
    Then Bob has 2 stopped remote tracks from Alice


  Scenario: Control API deletes WebRtcPublishEndpoint 16
    Given room with joined member Alice and Bob
    When Alice loses WS connection
    And Control API deletes Alice's publish endpoint
    And Alice restores WS connection
    Then Bob has 2 stopped remote tracks from Alice


  Scenario: Control API deletes WebRtcPublishEndpoint 17
    Given room with joined member Alice and Bob
    When Alice loses WS connection
    And Control API deletes Alice's publish endpoint
    And Alice restores WS connection
    Then Bob has 2 stopped remote tracks from Alice


  Scenario: Control API deletes WebRtcPublishEndpoint 18
    Given room with joined member Alice and Bob
    When Alice loses WS connection
    And Control API deletes Alice's publish endpoint
    And Alice restores WS connection
    Then Bob has 2 stopped remote tracks from Alice


  Scenario: Control API deletes WebRtcPublishEndpoint 19
    Given room with joined member Alice and Bob
    When Alice loses WS connection
    And Control API deletes Alice's publish endpoint
    And Alice restores WS connection
    Then Bob has 2 stopped remote tracks from Alice


  Scenario: Control API deletes WebRtcPublishEndpoint 20
    Given room with joined member Alice and Bob
    When Alice loses WS connection
    And Control API deletes Alice's publish endpoint
    And Alice restores WS connection
    Then Bob has 2 stopped remote tracks from Alice

